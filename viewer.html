<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Adora HMS Viewer</title>
<style>
    body { margin: 0; font-family: "Tajawal", sans-serif; background: #f7f9fa; overflow: hidden; }

    /* Ø²Ø± Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø­Ø³Ù† - Ø«Ø§Ø¨Øª ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± (80px) ÙˆÙ…ØµØºØ± */
    #switchBtn {
        position: fixed; 
        /* ØªÙ… Ø®ÙØ¶Ù‡ Ù…Ù† 40px Ø¥Ù„Ù‰ 80px Ù„ÙŠØµØ¨Ø­ Ø£ÙƒØ«Ø± Ø§Ù†Ø®ÙØ§Ø¶Ø§Ù‹ (Ø¥Ø¬Ù…Ø§Ù„ÙŠ 4 Ø³Ù…) */
        top: 80px; 
        left: 20px; 
        z-index: 2000;
        /* Ø­Ø¬Ù… Ù…ØµØºØ± */
        padding: 8px 16px; 
        border-radius: 30px;
        border: none;
        background: #00e676;
        color: #006064;
        font-weight: 800;
        font-size: 0.8rem; 
        cursor: pointer;
        box-shadow: 0 6px 20px rgba(0, 230, 118, 0.6);
        transition: all 0.4s ease-in-out, border-radius 0.2s, width 0.4s, height 0.4s; 
        display: flex; align-items: center; gap: 8px;
        justify-content: flex-start;
    }
    #switchBtn:hover { transform: translateY(-3px) scale(1.05); }
    #switchBtn:active { transform: scale(0.95); }

    /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¨Ø¶ÙŠØ© (Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©) */
    .pulsing-mode {
        width: 45px; height: 45px; 
        padding: 0; 
        border-radius: 50% !important; 
        white-space: nowrap; 
        overflow: hidden; 
        box-shadow: 0 0 0 0 rgba(0, 230, 118, 0.7); 
        animation: pulse 2s infinite; 
        justify-content: center; 
    }

    /* Ø­Ø±ÙƒØ© Ø§Ù„Ù†Ø¨Ø¶ */
    @keyframes pulse {
        0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 230, 118, 0.4); }
        70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(0, 230, 118, 0); }
        100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 230, 118, 0); }
    }
    
    iframe { width: 100%; height: 100vh; height: 100dvh; border: none; display: none; position: relative !important; z-index: 1 !important; }

    /* ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ - Ø¥Ø¨Ù‚Ø§Ø¦Ù‡ ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± (80px) */
    @media (min-width: 768px) {
        #switchBtn { top: 80px; left: 30px; transform: none; } /* ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§ Ø£ÙŠØ¶Ø§Ù‹ */
        #switchBtn:hover { transform: translateY(-3px) scale(1.05); }
    }

    html.show-switch #staffFrame, html.show-switch #workerFrame { pointer-events: none !important; }
</style>
</head>
<body>

<button id="switchBtn" onclick="toggleMode()">ğŸ”„ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù…Ø§Ù„</button>

<iframe id="staffFrame" src="index.html"></iframe>
<iframe id="workerFrame" src="index2.html"></iframe>

<script>
    let currentMode = localStorage.getItem('adora_view_mode') || 'staff';
    const staffFrame = document.getElementById("staffFrame");
    const workerFrame = document.getElementById("workerFrame");
    const btn = document.getElementById("switchBtn");

    function applyMode(mode) {
        if (mode === "worker") {
            staffFrame.style.display = "none";
            workerFrame.style.display = "block";
            btn.innerHTML = "ğŸ“Š Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±";
            document.title = "Adora | Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù…Ø§Ù„";
        } else {
            workerFrame.style.display = "none";
            staffFrame.style.display = "block";
            btn.innerHTML = "ğŸ‘· Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù…Ø§Ù„";
            document.title = "Adora | Ù„ÙˆØ­Ø© Ù…ÙˆØ¸Ù";
        }
        localStorage.setItem('adora_view_mode', mode);
        currentMode = mode;
        handleScroll();
    }

    function toggleMode() {
        const newMode = (currentMode === "staff") ? "worker" : "staff";
        applyMode(newMode);
    }
    
    // ------------------------------------------------------------------
    // Ù…Ù†Ø·Ù‚ Ø§Ù„ØªÙ…Ø±ÙŠØ± ÙˆØ§Ù„ØªØ­ÙˆÙŠÙ„ (Pulsing Feature)
    // ------------------------------------------------------------------
    
    let isPulsing = false;
    // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØªÙ…Ø±ÙŠØ± Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ø¨Ø¶ÙŠ (100 Ø¨ÙƒØ³Ù„)
    const SCROLL_THRESHOLD = 100; 

    function handleScroll() {
        // Ù†Ø³ØªØ®Ø¯Ù… window.scrollY Ù„Ø±ØµØ¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        const scrollAmount = window.scrollY; 

        if (scrollAmount > SCROLL_THRESHOLD && !isPulsing) {
            btn.classList.add('pulsing-mode');
            isPulsing = true;
        } else if (scrollAmount <= SCROLL_THRESHOLD && isPulsing) {
            btn.classList.remove('pulsing-mode');
            isPulsing = false;
        }
    }

    // ØªÙØ¹ÙŠÙ„ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ØªÙ…Ø±ÙŠØ±
    window.addEventListener('scroll', handleScroll); 
    
    // Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„ÙŠ Ù„Ù„ÙˆØ¶Ø¹
    applyMode(currentMode);
    
    // Ù†Ø¯Ø§Ø¡ Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
    handleScroll(); 
</script>
</body>
</html>
