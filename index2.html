<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Adora System | Hotel Operations Management</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>

   <link rel="stylesheet" href="style2.css">
</head>
<body>
    <!-- ุดุฑูุท ุงูุชุญููุฒ -->
    <div class="motivation-bar" style="display: none;" id="motivation-bar"></div>
    
    <!-- ุฑุณุงุฆู ุชูุจูู ุตุบูุฑุฉ -->
    <div id="mini-alert-container" style="position:fixed; top:10px; left:10px; right:10px; z-index:3000;"></div>

    <!-- ุตูุช ุงูุฅุดุนุงุฑ -->
    <audio id="notification-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        <div class="header">
            <div class="header-right" style="display:flex; align-items:center; gap:12px;">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2300ACC1'/%3E%3Cstop offset='100%25' style='stop-color:%230EA5E9'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M30 85 L15 50 L50 15 L85 50 L70 85 Z' fill='url(%23g)'/%3E%3Cpath d='M40 55 L30 40 L50 25 L70 40 L60 55 Z' fill='%23000' opacity='0.3'/%3E%3Ccircle cx='75' cy='25' r='8' fill='%23F59E0B'/%3E%3C/svg%3E" 
                     alt="Adora" 
                     style="width:40px; height:40px; filter:drop-shadow(0 2px 6px rgba(0,188,212,0.4));">
                <div style="margin:0; display:flex; flex-direction:column; line-height:1.2;">
                    <span style="font-size:1.1rem; font-weight:800; background:linear-gradient(135deg, #0891b2, #06b6d4); background-clip:text; -webkit-background-clip:text; -webkit-text-fill-color:transparent;">ููุธููุฉ Adora</span>
                    <span style="font-size:0.65rem; color:#64748b; font-weight:600;">ูุชุชุจุน ุงูุนูููุงุช ุงูุชุดุบูููุฉ ููููุงุฏู</span>
                </div>
                <button onclick="showQuickReport()" class="tools-btn" title="ุชูุฑูุฑ ุณุฑูุน" style="margin-right:8px;">๐</button>
            </div>
            <div class="header-left">
                <button onclick="showPurchasesModal()" class="tools-btn purchases-btn" title="ูุงุฆูุฉ ุงููุดุชุฑูุงุช" id="purchases-btn">๐</button>
                <button onclick="toggleFocusMode()" class="tools-btn focus-btn" title="ูุถุน ุงูุชุฑููุฒ" id="focus-mode-btn">๐๏ธ</button>
                <span id="points-display">๐ 0</span>
                <button onclick="toggleTurboMode()" id="turbo-mode-btn" class="tools-btn turbo-active" title="ุงููุถุน ุงูุณุฑูุน">โก</button>
                <button onclick="showComprehensiveLog()" class="tools-btn" title="ุงูุณุฌู ุงููุงูู">๐</button>
                <button onclick="generateDailyReport()" class="tools-btn" title="ุชูุฑูุฑ ุงููุฏูุฑ">๐</button>
                <button onclick="toggleLanguage()" class="tools-btn" title="ุงููุบุฉ" id="lang-btn">๐</button>
                <button onclick="toggleDarkMode()" class="tools-btn" title="ุงููุถุน ุงูุฏุงูู">๐</button>
            </div>
        </div>

        <div class="worker-view">
            <div id="sync-indicator">๐ Saving...</div>
            
            <!-- ูุณู ุงูุฅุญุตุงุฆูุงุช ุงูุฌุฏูุฏ -->
            <div class="section">
                <div class="sec-title">
                    <span>๐ ุฅุญุตุงุฆูุงุช ุงูููู</span>
                    <button onclick="showNewShiftModal()" class="tools-btn" style="padding: 2px 6px; font-size:0.9rem;" title="ุดูุช ุฌุฏูุฏ">๐</button>
                </div>
                
                <div class="stats-grid-new">
                    <div class="stat-card" id="stat-out-card">
                        <div class="stat-icon">๐งน</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-out-done">0</div>
                            <div class="stat-label">ุฎุฑูุฌ</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="stat-stay-card">
                        <div class="stat-icon">๐</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-stay-done">0</div>
                            <div class="stat-label">ุณุงูู</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="stat-request-card">
                        <div class="stat-icon">๐๏ธ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-req-done">0</div>
                            <div class="stat-label">ุทูุจุงุช</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="stat-maint-card">
                        <div class="stat-icon">๐๏ธ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-maint-total">0</div>
                            <div class="stat-label">ุตูุงูุฉ</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="stat-last-request-card">
                        <div class="stat-icon">๐</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-last-request">--</div>
                            <div class="stat-label">ุขุฎุฑ ุทูุจ</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="stat-last-maint-card">
                        <div class="stat-icon">โฐ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-last-maint">--</div>
                            <div class="stat-label">ุขุฎุฑ ุตูุงูุฉ</div>
                        </div>
                    </div>
                </div>
                
                <div class="active-stats">
                    <div class="active-stat">
                        <div class="active-label">ูุดุท</div>
                        <div class="active-value" id="stat-active">0</div>
                    </div>
                    <div class="active-stat">
                        <div class="active-label">ูุชุฃุฎุฑ</div>
                        <div class="active-value late" id="stat-late">0</div>
                    </div>
                </div>
            </div>

            <div class="section section-rooms">
                <div class="sec-title">
                    <span>๐ช ุชุชุจุน ุงูุบุฑู</span>
                    <div class="btn-add-room-wrapper">
                        <button onclick="openAddModal()" class="btn-add-room" id="add-room-btn">+</button>
                    </div>
                </div>
                
                <!-- ุญุงููุฉ ุงูุจุญุซ ูุน ูุธุงู ุงูุชุญูู ุงูุฐูู -->
                <div class="search-container">
                    <input type="text" id="search-bar" class="search-box" 
                           placeholder="๐ ุงุจุญุซ ุจุฑูู ุงูุบุฑูุฉ..." 
                           oninput="handleRoomSearch(this.value)" 
                           autocomplete="off">
                    
                    <!-- ุฑุณุงุฆู ุงูุชุญูู ุงูุฐูู -->
                    <div id="room-check-messages" class="room-check-messages" style="display: none;">
                        <div id="room-check-content"></div>
                    </div>
                </div>
                
                <div id="dnd-rooms-container" style="display:none;"></div>
                <div id="rooms-container"></div>
                <div id="scheduled-rooms-container" style="display: none;"></div>
            </div>

            <div class="section section-requests" id="guest-requests-section">
                <div class="sec-title" style="color: var(--request-color);">
                    <span>๐๏ธ ุทูุจุงุช ุงููุฒูุงุก</span>
                    <button onclick="toggleArchive('req')" class="tools-btn" title="ุงูุฃุฑุดูู">๐</button>
                </div>
                <div id="guest-requests-active-list" style="margin-bottom:5px;"></div>
                <div id="scheduled-requests-container" style="display: none;"></div>
                <div id="req-archive-container" class="archive-container" style="display:none;">
                    <div style="font-size:0.65rem; color:var(--text-sec); margin-bottom:5px; font-weight:bold;">ุฃุฑุดูู ุงูุทูุจุงุช:</div>
                    <div id="guest-requests-archive-list"></div>
                    <button id="btn-more-req" class="btn-show-more" onclick="loadMoreArchives('req')">โฌ๏ธ ุนุฑุถ ุงููุฒูุฏ</button>
                </div>
            </div>

            <div class="section section-maintenance" id="maintenance-section">
                <div class="sec-title" style="color: var(--maint-color);">
                    <span>๐๏ธ ุงูุตูุงูุฉ</span>
                    <button onclick="toggleArchive('maint')" class="tools-btn" title="ุงูุฃุฑุดูู">๐</button>
                </div>
                <div id="maintenance-active-list" style="margin-bottom:5px;"></div>
                <div id="scheduled-maintenance-container" style="display: none;"></div>
                <div id="maint-archive-container" class="archive-container" style="display:none;">
                    <div style="font-size:0.65rem; color:var(--text-sec); margin-bottom:5px; font-weight:bold;">ุฃุฑุดูู ุงูุตูุงูุฉ:</div>
                    <div id="maintenance-archive-list"></div>
                    <button id="btn-more-maint" class="btn-show-more" onclick="loadMoreArchives('maint')">โฌ๏ธ ุนุฑุถ ุงููุฒูุฏ</button>
                </div>
            </div>

            <div class="section">
                <div class="sec-title">
                    <span>๐งน ุงูุณุฌู (ููุชูู)</span>
                    <button onclick="showLogClearModal()" class="tools-btn" style="padding: 3px 6px; font-size:0.9rem;">๐๏ธ</button>
                </div>
                <div id="cleaning-log-list"></div>
                <button id="btn-more-log" class="btn-show-more" onclick="loadMoreLog()" style="display:none; margin-top:8px;">โฌ๏ธ ุนุฑุถ ุงููุฒูุฏ</button>
            </div>
        </div>
    </div>

    <div id="dev-footer-fixed">
        <div style="font-size: 0.75rem; color: #64748b;">ุชูููุฐ: <span style="font-weight:700; color:#0891b2;">ุฃููู ุฃุจู ูุฑุฏุฉ</span> - 77aayy@gmail.com</div>
    </div>

    <!-- Add Room Modal -->
    <div id="addRoomModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div style="display:flex; gap:10px; margin-bottom:20px;">
                <button onclick="switchAddMode('cleaning')" id="tab-cleaning" class="add-mode-tab active">๐งน ุชูุธูู</button>
                <button onclick="switchAddMode('request')" id="tab-request" class="add-mode-tab">๐๏ธ ุทูุจุงุช</button>
                <button onclick="switchAddMode('maintenance')" id="tab-maintenance" class="add-mode-tab">๐๏ธ ุตูุงูุฉ</button>
            </div>
            <h3 style="color:var(--primary); margin-top:0; font-size:1.1rem;" id="modal-title-add">ุฅุถุงูุฉ ุบุฑูุฉ ุฌุฏูุฏุฉ</h3>
            
            <div style="margin-bottom:12px; text-align:right;">
                <label class="modal-label" style="font-weight:bold; font-size:0.9rem;">ุฑูู ุงูุบุฑูุฉ</label>
                <input type="number" id="inpRoomNum" placeholder="ูุซุงู: 101" 
                       onclick="this.select()" 
                       oninput="this.value = Math.floor(this.value); checkDuplicate(); suggestRoomType();" 
                       step="1"
                       style="font-size:1.1rem; font-weight:bold; text-align:center;">
                <div id="room-dup-alert" style="font-size:0.7rem; font-weight:bold; margin-top:6px; padding:4px; border-radius:4px; text-align:right; display:none; color:var(--danger); background:rgba(239, 68, 68, 0.1);"></div>
            </div>
            
            <div id="cleaning-options" style="background:linear-gradient(135deg, rgba(0,188,212,0.05), rgba(76,175,80,0.05)); padding:16px; border-radius:16px; border:2px solid rgba(0,188,212,0.2);">
                <div style="margin-bottom:12px; display:flex; flex-wrap:wrap; gap:6px;">
                    <button onclick="setRoomType('out')" class="glass-btn modal-select-btn" id="opt_out" style="flex:1; min-width:80px; font-size:0.7rem !important; padding:0 8px !important;">๐จ ุฎุฑูุฌ</button>
                    <button onclick="setRoomType('stay')" class="glass-btn modal-select-btn" id="opt_stay" style="flex:1; min-width:80px; font-size:0.7rem !important; padding:0 8px !important;">๐ ูุฌุฏูู</button>
                    <button onclick="setRoomType('dnd')" class="glass-btn modal-select-btn" id="opt_dnd" style="flex:1; min-width:70px; font-size:0.7rem !important; padding:0 8px !important;">๐ซ DND</button>
                </div>
                <input type="hidden" id="inpRoomType">
                <div id="stayOptionsCleaning" style="display:none; margin-bottom:12px; text-align:right;">
                    <div class="in-out-toggle" style="display:flex; gap:8px; margin-bottom:12px;">
                        <button onclick="setGuestStatus('in')" class="io-btn" id="gst_clean_in">๐ค ุฏุงุฎู</button>
                        <button onclick="setGuestStatus('out')" class="io-btn" id="gst_clean_out">๐ถ ุฎุงุฑุฌ</button>
                    </div>
                    <label class="modal-label" style="font-weight:bold; font-size:0.9rem;">โฐ ููุช ุงูุชูุธูู</label>
                    <input type="time" id="systemTimeInput" value="12:00" style="width:100%; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.95rem;">
                </div>
                <div class="toggle-container" style="background: rgba(255, 152, 0, 0.1); border-color: rgba(255, 152, 0, 0.3);">
                    <div class="toggle-label" style="color: var(--maint-color); font-size:0.85rem;">๐ Super Turbo (-5 min)</div>
                    <label class="switch">
                        <input type="checkbox" id="inpSuperTurbo">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div id="request-options" style="display:none; margin-bottom:12px; background:linear-gradient(135deg, rgba(168,85,247,0.05), rgba(236,72,153,0.05)); padding:16px; border-radius:16px; border:2px solid rgba(168,85,247,0.2);">
                <div style="display:flex; gap:8px; margin-bottom:12px;">
                    <button onclick="setRequestMode('immediate')" id="btn-req-imm" class="glass-btn modal-select-btn">๐จ ููุฑู</button>
                    <button onclick="setRequestMode('scheduled')" id="btn-req-sch" class="glass-btn modal-select-btn">๐ ูุฌุฏูู</button>
                </div>
                <textarea id="inpRequestDetails" rows="3" placeholder="ุงูุชุจ ุทูุจ ุงููุฒูู (ููุดูุฉ - ูุญุงู - ูููุฐุง)" 
                          style="padding:14px; border-radius:14px; border:2px solid var(--request-color); background:white; font-size:0.95rem; font-weight:500; resize:none;"
                          oninput="checkQuickCodes()"></textarea>
                <div id="quick-codes-suggestions" class="quick-codes-suggestions"></div>
                <div id="request-schedule-container" style="display:none; margin-top:12px;">
                    <label class="modal-label" style="font-weight:bold; font-size:0.9rem;">โฐ ููุนุฏ ุงูุทูุจ</label>
                    <div style="display:flex; gap:8px; align-items:center;">
                        <input type="date" id="systemDateInputReq" min="" style="flex:0.8; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.9rem;">
                        <input type="time" id="systemTimeInputReq" value="12:00" min="" style="flex:1; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.95rem;">
                    </div>
                </div>
            </div>

            <div id="maintenance-options" style="display:none; margin-bottom:12px; background:linear-gradient(135deg, rgba(14,165,233,0.05), rgba(56,189,248,0.05)); padding:16px; border-radius:16px; border:2px solid rgba(14,165,233,0.2);">
                <div style="display:flex; gap:8px; margin-bottom:12px;">
                    <button onclick="setMaintMode('immediate')" id="btn-maint-imm" class="glass-btn modal-select-btn">๐จ ุนุงุฌู</button>
                    <button onclick="setMaintMode('scheduled')" id="btn-maint-sch" class="glass-btn modal-select-btn">๐ ูุฌุฏูู</button>
                </div>
                <textarea id="inpMaintDetails" rows="3" placeholder="ุงูุชุจ ูุตู ุงููุดููุฉ..." style="padding:14px; border-radius:14px; border:2px solid var(--maint-color); background:white; font-size:0.95rem; font-weight:500; resize:none;"></textarea>
                <label class="modal-label" style="font-weight:bold; font-size:0.9rem;">ุตูุฑุฉ (ุงุฎุชูุงุฑู)</label>
                <label for="inpMaintImage" class="camera-icon-btn" style="margin-top:4px; border-color:var(--maint-color); color:var(--maint-color);">๐ท</label>
                <input type="file" accept="image/*" capture="environment" id="inpMaintImage" style="display:none;">
                
                <div style="margin-top: 15px; padding: 12px; background: rgba(14, 165, 233, 0.05); border: 2px dashed var(--maint-color); border-radius: 10px;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-weight: 600;">
                        <input type="checkbox" id="inpRecurringMaint" style="width: 20px; height: 20px; cursor: pointer;">
                        <span>๐ ุตูุงูุฉ ุฏูุฑูุฉ (ุชูุฑุงุฑ ุชููุงุฆู)</span>
                    </label>
                    <div id="recurringOptions" style="display: none; margin-top: 10px; padding-left: 28px;">
                        <label style="font-size: 0.85rem; color: var(--text-sec);">ุชูุฑุงุฑ ูู:</label>
                        <select id="inpRecurringDays" style="width: 100%; padding: 8px; border-radius: 6px; border: 1px solid var(--border-color); margin-top: 5px; font-family: 'Cairo', sans-serif;">
                            <option value="7">ุฃุณุจูุน (7 ุฃูุงู)</option>
                            <option value="14">ุฃุณุจูุนูู (14 ููู)</option>
                            <option value="30">ุดูุฑ (30 ููู)</option>
                            <option value="90">3 ุฃุดูุฑ (90 ููู)</option>
                        </select>
                    </div>
                </div>
                <div id="maint-schedule-container" style="display:none; margin-top:12px;">
                    <label class="modal-label" style="font-weight:bold; font-size:0.9rem;">โฐ ููุนุฏ ุงูุตูุงูุฉ</label>
                    <div style="display:flex; gap:8px; align-items:center;">
                        <input type="date" id="systemDateInputMaint" min="" style="flex:0.8; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.9rem;">
                        <input type="time" id="systemTimeInputMaint" value="12:00" min="" style="flex:1; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.95rem;">
                    </div>
                </div>
            </div>

            <input type="hidden" id="inpGuestStatus" value="in">
            
            <button onclick="addNewBtnAction()" class="full-btn" style="background:linear-gradient(135deg, var(--maint-color), #0EA5E9); box-shadow:0 4px 12px rgba(14,165,233,0.3);" id="confirm-add-btn">ุฅุถุงูุฉ ูุฅุฑุณุงู ๐</button>
            <button onclick="closeModal()" class="full-btn" style="background:#E5E7EB; color:#374151;">ุฑุฌูุน</button>
        </div>
    </div>

    <!-- Finish Room Modal -->
    <div id="final-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 style="margin-top:0; color:var(--primary); font-size:1.1rem;" id="finish-title">๐ ุชูุฑูุฑ ุงูุบุฑูุฉ</h3>
            <div id="delay-reason-section" style="display:none; margin-bottom:12px;">
                <label class="modal-label" style="color:var(--danger); font-weight:bold; font-size:0.9rem;">โ๏ธ ุณุจุจ ุงูุชุฃุฎูุฑ:</label>
                <input type="hidden" id="modal-delay">
                <div style="display:flex; gap:4px; margin-top:4px;">
                    <button onclick="setDelayReason('ุถุบุท ุงูุนูู', this)" class="glass-btn" style="background:#eee; color:#333; flex:1; padding:6px 8px; font-size:0.8rem;" id="dly_work">ุถุบุท ุงูุนูู</button>
                    <button onclick="setDelayReason('ูุดููุฉ ุจุงูุบุฑูุฉ', this)" class="glass-btn" style="background:#eee; color:#333; flex:1; padding:6px 8px; font-size:0.8rem;" id="dly_room">ูุดููุฉ ุจุงูุบุฑูุฉ</button>
                    <button onclick="setDelayReason('ุฃุฎุฑู', this)" class="glass-btn" style="background:#eee; color:#333; flex:1; padding:6px 8px; font-size:0.8rem;" id="dly_other">ุฃุฎุฑู</button>
                </div>
            </div>
            <input type="hidden" id="modal-notes" value="Ready">
            <div style="display:flex; gap:8px; margin-bottom:12px;">
                <button onclick="setRoomStatus('ุฌุงูุฒุฉ')" class="glass-btn" style="flex:1; justify-content:center; padding:10px;" id="st_ready">ุฌุงูุฒุฉ โ</button>
                <button onclick="setRoomStatus('ุชุญุชุงุฌ ุตูุงูุฉ')" class="glass-btn" style="flex:1; justify-content:center; padding:10px;" id="st_maint">ุตูุงูุฉ ๐๏ธ</button>
            </div>
            <div id="maintenance-fields" style="display: none; padding: 12px; background: rgba(220, 38, 38, 0.05); border-radius: 12px; border: 1px solid rgba(220, 38, 38, 0.15); margin-bottom: 10px; width: 100%; box-sizing: border-box;">
                <textarea id="repair-details-input" placeholder="ุงูุชุจ ูุตู ุงููุดููุฉ..." rows="2" style="width: 100%; box-sizing: border-box; margin-bottom: 10px; padding: 12px; border-radius: 10px; border: 2px solid rgba(220, 38, 38, 0.3); font-size: 0.9rem; resize: none;"></textarea>
                <div style="display: flex; align-items: center; justify-content: center; width: 100%;">
                    <label for="modal-img-camera-input" style="width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(145deg, rgba(220, 38, 38, 0.1), rgba(185, 28, 28, 0.15)); display: flex; justify-content: center; align-items: center; cursor: pointer; border: 2px solid rgba(220, 38, 38, 0.4); font-size: 1.3rem; color: #dc2626; box-shadow: 0 2px 8px rgba(220, 38, 38, 0.2);">๐ท</label>
                </div>
                <input type="file" accept="image/*" capture="environment" id="modal-img-camera-input" style="display:none;">
            </div>
            <div class="toggle-container" style="background: rgba(76, 175, 80, 0.1); border-color: rgba(76, 175, 80, 0.3);">
                <div class="toggle-label" style="color: #2e7d32; font-size:0.85rem;">๐ฒ ุฅุฑุณุงู ุชูุฑูุฑ ูุงุชุณุงุจ</div>
                <label class="switch">
                    <input type="checkbox" id="inpSendWhatsapp">
                    <span class="slider"></span>
                </label>
            </div>
            <button onclick="confirmFinishRoom()" class="full-btn" id="btn_confirm_finish" style="background:var(--success); margin-top:8px; padding:12px; font-size:0.95rem;">ุชุฃููุฏ โ</button>
            <button onclick="closeModal()" class="full-btn" style="background:#E5E7EB; color:#374151; padding:12px; font-size:0.95rem;">ุฑุฌูุน</button>
        </div>
    </div>

    <!-- Complete Maintenance Modal -->
    <div id="complete-maint-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width:450px; background:#ffffff; border-radius:20px; box-shadow:0 8px 32px rgba(0,0,0,0.12);">
            <h3 style="margin-top:0; margin-bottom:8px; color:var(--maint-color); font-size:1.1rem; font-weight:800; display:flex; align-items:center; gap:8px;">
                <span>โ</span>
                <span>ุฅููุงุก ุงูุตูุงูุฉ</span>
            </h3>
            
            <div id="maint-room-num-display" style="font-size:0.95rem; font-weight:600; margin-bottom:15px; color:rgba(14,165,233,0.7); text-align:right;">ุบุฑูุฉ XXX</div>
            
            <div style="margin-bottom:15px; padding:12px 16px; background:#ffffff; border-radius:12px; border:1px solid #f1f5f9; display:flex; align-items:center; gap:10px;">
                <span style="font-size:1.2rem;">โฐ</span>
                <div style="flex:1;">
                    <label style="display:block; font-weight:600; color:var(--text-sec); font-size:0.85rem; margin-bottom:4px;">ููุช ุจุฏุก ุงูุตูุงูุฉ:</label>
                    <div id="maint-start-time" style="font-size:1rem; font-weight:700; color:var(--text-main);">--:--</div>
                </div>
            </div>
            
            <div style="margin-bottom:15px;">
                <label for="maint-img-camera-input" style="display:flex; align-items:center; justify-content:space-between; gap:12px; width:100%; padding:16px; background:#f8fafc; border-radius:12px; border:1px solid #e2e8f0; cursor:pointer; transition:all 0.2s;">
                    <div style="flex:1; text-align:right;">
                        <div style="font-weight:700; font-size:0.95rem; color:var(--maint-color); margin-bottom:4px;">ุฑูุน ุตูุฑุฉ ุฅุฌุจุงุฑูุฉ</div>
                        <div style="font-size:0.8rem; color:var(--text-sec);">ุงุถุบุท ูุงูุชูุงุท ุฃู ุงุฎุชูุงุฑ ุตูุฑุฉ</div>
                    </div>
                    <div style="width:40px; height:40px; background:linear-gradient(135deg, var(--maint-color), #0EA5E9); border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:1.4rem; flex-shrink:0;">๐ท</div>
                </label>
                <input type="file" accept="image/*" capture="environment" id="maint-img-camera-input" style="display:none;" required>
                <div id="maint-img-uploaded-icon" style="display:none; margin-top:10px; padding:12px; background:rgba(34, 197, 94, 0.1); border-radius:12px; text-align:center; color:#15803d; font-weight:700; border:1px solid rgba(34, 197, 94, 0.2);">
                    โ ุชู ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ
                </div>
            </div>
            
            <button onclick="confirmCompleteMaintenance()" class="full-btn" id="btn_confirm_maint_finish" style="background:linear-gradient(135deg, var(--maint-color), #0EA5E9); margin-bottom:10px; padding:14px; font-weight:800; border-radius:12px; box-shadow:0 4px 12px rgba(14,165,233,0.25); display:flex; align-items:center; justify-content:center; gap:8px;">
                <span>ุชูุซูู ูุฅููุงุก</span>
                <span>๐</span>
            </button>
            <button onclick="closeModal()" class="full-btn" style="background:#f1f5f9; color:#475569; padding:12px; font-weight:700; border-radius:12px; border:1px solid #e2e8f0;">ุฑุฌูุน</button>
        </div>
    </div>

    <!-- Password Modal -->
    <div id="password-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 style="color:var(--danger); font-size:1.1rem;">ุชุฃููุฏ</h3>
            <input type="password" id="admin-password" placeholder="ูููุฉ ุงููุฑูุฑ" style="text-align:center; font-size:1.3rem;" />
            <button onclick="checkPasswordAndAction()" class="full-btn" style="background:var(--success); margin-top:8px; padding:12px;">ุชุฃููุฏ</button>
            <button onclick="closeModal()" class="full-btn" style="background:#E5E7EB; color:#374151; padding:12px;">ุฑุฌูุน</button>
        </div>
    </div>

    <!-- Action Confirm Modal -->
    <div id="action-confirm-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 style="color:var(--primary); font-size:1.1rem;" id="confirm-title">ุชุฃููุฏ</h3>
            <p id="confirm-message" style="font-size:0.9rem; font-weight:bold; margin-bottom:15px; text-align:center;"></p>
            <button id="confirm-yes-btn" class="full-btn" style="background:var(--success); padding:12px;">ูุนู</button>
            <button onclick="closeModal()" class="full-btn" style="background:#E5E7EB; color:#374151; padding:12px;">ุฑุฌูุน</button>
        </div>
    </div>

    <!-- Purchases Modal -->
    <div id="purchases-modal" class="modal-overlay" style="display: none;"></div>

    <!-- Comprehensive Log Modal -->
    <div id="comprehensive-log-modal" class="modal-overlay" style="display: none;"></div>

    <!-- Custom Alert Modal -->
    <div id="customAlertModal" class="modal-overlay" style="z-index: 3000; display: none;">
        <div class="alert-modal-content">
            <span id="alertIcon" style="font-size:2.5rem; display:block; margin-bottom:8px;"></span>
            <p id="alertMessage" style="font-weight:bold; font-size:0.9rem; margin-bottom:15px;"></p>
            <button onclick="closeCustomAlert()" class="full-btn" style="background:var(--primary); padding:12px;">OK</button>
        </div>
    </div>
<script src="script2.js"></script>
</body>
</html>